%%% TO STANDARDIZE 30 Sec PLOTS WITHOUT LOSING YOUR MIND
%  Written by C. Lebonville on 25-Oct-2024 13:23:45
% Get axes
axes1 = findobj(gcf, 'Type', 'axes');

% Uncomment the following line to preserve the X-limits of the axes
xlim(axes1,[0.000983039617479624 67.4009857921284]);
% Uncomment the following line to preserve the Y-limits of the axes
ylim(axes1,[-1.9 3.55]);

% Set the remaining axes properties
set(axes1,'TickLength',[0.0001 0.00025],'XTick',...
    [0.000997736427571283 10.0009977364276 20.0009977364276 30.0009977364276 37.4009830396175 47.4009830396175 57.4009830396175 67.4009830396175],...
    'XTickLabel',{'-30','-20','-10','0','0','10','20','30'});

%windowPosition = get(gcf, 'position');
windowPosition = [121.8000 157.8000 508.0000 617.6000];
%axesPosition = get(axes1, 'position')
axesPosition = [0.1300 0.1100 0.7750 0.8150];
PlotBoxWidth=(axesPosition(3)-axesPosition(1))*windowPosition(3);
PlotBoxHeight=(axesPosition(4)-axesPosition(2))*windowPosition(4);
PlotBoxAspectRatio=PlotBoxWidth/PlotBoxHeight;

set(gcf,...
    'Position',windowPosition,...
    'Renderer','painters',...
    'OuterPosition',[114.6 150.6 522.4 707.2]);
set(axes1,...
    'Position',axesPosition);
% Create ylabel
ylabel('\bf\Delta\itF/F (%)','FontSize',14);

% Create xlabel
xlabel('\bfTime(seconds) ','FontSize',14);

% Create title
title('Average \bf\Delta\itF/F(%) Before & After Bouts','FontSize',11);


% Handle to figure object unknown
lh = findobj(gcf, 'Type', 'legend');
set(lh,...
    'Position',[0.572972380720767 0.788672462557456 0.333326831877659 0.140544041450781],...
    'FontSize',17,...
    'FontName','Arial',...
    'EdgeColor','none',...
    'Color','none');

% neworder = [2, 1];
% ax = gca;
% children = ax.Children;
% legend(children(neworder), labels(neworder))

% Create rectangle
annotation(gcf,'rectangle',...
    [0.476182789651292 0.110862262038074 0.0848408323959517 0.812989921612543],...
    'Color',[0.650980392156863 0.650980392156863 0.650980392156863],...
    'FaceColor',[0.650980392156863 0.650980392156863 0.650980392156863]);


% Create textbox for grey bout bar
annotation(gcf,'textbox',...
    [0.563889595290374 0.43296139967848 0.203937012266925 0.0744818666747196],...
    'VerticalAlignment','middle',...
    'String','Bout',...
    'Rotation',90,...
    'HorizontalAlignment','center',...
    'FontSize',24,...
    'FontName','Arial',...
    'FitBoxToText','off',...
    'EdgeColor','none');

% Create textbox for scale key
annotation(gcf,'textbox',...
    [0.107996682013633 0.717595651494478 0.214960634576993 0.0889021497353165],...
    'String',{'1.5','z%{\Delta}{\itF/F}'},...
    'HorizontalAlignment','center',...
    'FontSize',16,...
    'FontName','Arial',...
    'EdgeColor','none');
annotation(gcf,'textbox',...
    [0.271012242981572 0.620597130194585 0.180314964459637 0.051909308757873],...
    'String',{'10 sec'},...
    'HorizontalAlignment','center',...
    'FontSize',16,...
    'FontName','Arial',...
    'EdgeColor','none');

% Create lines for scale key
annotation(gcf,'line',[0.309842519685039 0.309842519685039],...
    [0.852646856619407 0.667461671434219],'LineWidth',3);
annotation(gcf,'line',[0.421669947506559 0.307086614173225],...
    [0.670017391551257 0.670017391551257],'LineWidth',3);

clear; 